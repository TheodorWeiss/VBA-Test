–ü–æ–Ω—è–ª. –¢–æ–≥–¥–∞ –º—ã —Å—Ç–∞–≤–∏–º –∂—ë—Å—Ç–∫–æ–µ —É—Å–ª–æ–≤–∏–µ ‚Äútoken ‚äÜ canon‚Äù:

–Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ token —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ—Ñ–∏–∫—Å–æ–º –∫–∞–Ω–æ–Ω–∞
(—Ç–æ –µ—Å—Ç—å –≤—Å–µ —Å–∏–º–≤–æ–ª—ã token —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –Ω–∞—á–∞–ª–æ–º canon)

–≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ —Ä–µ—à–∞–µ—Ç —Ç–≤–æ–π –∫–µ–π—Å schwarz ‚Üí schwart:
schwarz –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ—Ñ–∏–∫—Å–æ–º schwart (–Ω–∞ 6-–π –±—É–∫–≤–µ —Ä–∞–∑–Ω–∏—Ü–∞), –∑–Ω–∞—á–∏—Ç –∑–∞–º–µ–Ω—ã –Ω–µ –±—É–¥–µ—Ç.

‚∏ª

‚úÖ –ü—Ä–∞–≤–∏–ª–æ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ (—Å—Ç—Ä–æ–≥–æ–µ)

–ó–∞–º–µ–Ω—è–µ–º Token –Ω–∞ Canonical, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è:
	1.	Text.StartsWith(Canonical, Token)  (–∫–∞–Ω–æ–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ç–æ–∫–µ–Ω–∞)
	2.	Token <> Canonical
	3.	(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) token –∫–æ—Ä–æ—Ç–∫–∏–π –∏/–∏–ª–∏ —Ä–µ–¥–∫–∏–π ‚Äî —á—Ç–æ–±—ã –Ω–µ ‚Äú–ø—Ä–∏–ª–∏–ø–∞–ª–æ‚Äù –ª–∏—à–Ω–µ–µ

–ë–∞–∑–∞ (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ ‚Äî —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤):

if [Canonical6] <> null and [Token] <> [Canonical6] and Text.StartsWith([Canonical6], [Token])
then [Canonical6]
else [Token]


‚∏ª

üî• –ß—Ç–æ–±—ã –Ω–µ —Å–ª–æ–º–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞ —Ç–∏–ø–∞ bier

–î–æ–±–∞–≤–ª—è–µ–º ‚Äú–∑–∞–º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –∫–æ—Ä–æ—Ç—ã—à–µ–π‚Äù, –Ω–∞–ø—Ä–∏–º–µ—Ä Len <= 7:

if [Canonical6] <> null
   and [Token] <> [Canonical6]
   and [Tokenlength] <= 7
   and Text.StartsWith([Canonical6], [Token])
then [Canonical6]
else [Token]

–ï—Å–ª–∏ bier (Len=4) –∏ –∫–∞–Ω–æ–Ω –≤–¥—Ä—É–≥ bierschinken, —Ç–æ —É—Å–ª–æ–≤–∏–µ startswith –∏—Å—Ç–∏–Ω–Ω–æ ‚Äî –Ω–æ —Ç–µ–±–µ —ç—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ.

–ó–Ω–∞—á–∏—Ç –¥–æ–±–∞–≤–ª—è–µ–º –µ—â—ë –∑–∞—â–∏—Ç—É –ø–æ TF:

if [TF] >= 10 then [Token]
else if [Canonical6] <> null
        and [Token] <> [Canonical6]
        and [Tokenlength] <= 7
        and Text.StartsWith([Canonical6], [Token])
     then [Canonical6]
     else [Token]

–≠—Ç–æ –¥–∞—ë—Ç:
	‚Ä¢	bier (TF –≤—ã—Å–æ–∫–∏–π) –æ—Å—Ç–∞—ë—Ç—Å—è bier
	‚Ä¢	berl (TF –º–∞–ª–µ–Ω—å–∫–∏–π) ‚Üí berliner
	‚Ä¢	adventsk ‚Üí adventskalender / adventskerzen (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞–Ω–æ–Ω–∞)

‚∏ª

‚úÖ –í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç: –∫–∞–∫ –≤—ã–±–∏—Ä–∞—Ç—å –∫–∞–Ω–æ–Ω

–†–∞–∑ —É–∂ —Ç—ã —Ç—Ä–µ–±—É–µ—à—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤, –∫–∞–Ω–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω–æ ‚Äú–≥–ª–∞–≤–Ω–æ–π –ø–æ–ª–Ω–æ–π —Ñ–æ—Ä–º–æ–π‚Äù, –∞ –Ω–µ —Å–ª—É—á–∞–π–Ω–æ–π.

–ü–æ—ç—Ç–æ–º—É –∫–∞–Ω–æ–Ω –ª—É—á—à–µ –≤—ã–±–∏—Ä–∞—Ç—å —Ç–∞–∫:
	‚Ä¢	—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: TF desc, –ø–æ—Ç–æ–º Tokenlength desc
	‚Ä¢	–∫–∞–Ω–æ–Ω = –ø–µ—Ä–≤—ã–π

–¢–∞–∫ –º–µ–Ω—å—à–µ —à–∞–Ω—Å–æ–≤, —á—Ç–æ –∫–∞–Ω–æ–Ω–æ–º —Å—Ç–∞–Ω–µ—Ç –æ–ø–µ—á–∞—Ç–∫–∞.

‚∏ª

üß© –ì–æ—Ç–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞ –¥–ª—è —Ç–≤–æ–µ–π –∫–æ–ª–æ–Ω–∫–∏ TokenNorm

(–ø–æ–¥—Å—Ç–∞–≤—å —Å–≤–æ–∏ –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π, —É —Ç–µ–±—è –æ–Ω–∏: Token, TF, Tokenlength, CanonicalToken / Canonical6)

if [TF] >= 10 then [Token]
else if [CanonicalToken] <> null
     and [Token] <> [CanonicalToken]
     and [Tokenlength] <= 7
     and Text.StartsWith([CanonicalToken], [Token])
then [CanonicalToken]
else [Token]


‚∏ª

–ü–æ—á–µ–º—É —ç—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–≤–æ–µ–º—É ‚Äú—Å–∞–º–æ–º—É –≤–∞–∂–Ω–æ–º—É —É—Å–ª–æ–≤–∏—é‚Äù

–ü–æ—Ç–æ–º—É —á—Ç–æ Text.StartsWith(canon, token) –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç:
	‚Ä¢	—Å–∏–º–≤–æ–ª 1..len(token) –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–ø–∞–¥–∞—é—Ç
	‚Ä¢	–Ω–∏–∫–∞–∫–∏—Ö schwarz ‚Üí schwart, —Ç–æ–ª—å–∫–æ berl ‚Üí berliner

‚∏ª

–ï—Å–ª–∏ —Å–∫–∞–∂–µ—à—å, –∫–∞–∫–æ–π –ø—Ä–µ—Ñ–∏–∫—Å —Ç—ã —Å–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –¥–ª—è –∫–∞–Ω–æ–Ω–∞ (Prefix6/7/10) –∏ –∫–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–æ–Ω–∫–∞ –∫–∞–Ω–æ–Ω–∞ –≤ —Ç–≤–æ—ë–º –∑–∞–ø—Ä–æ—Å–µ (CanonicalToken –∏–ª–∏ Canonical6), —è –ø–æ–¥–≥–æ–Ω—é —Ñ–æ—Ä–º—É–ª—É 1-–≤-1 –ø–æ–¥ —Ç–≤–æ—é —Ç–∞–±–ª–∏—Ü—É, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤–∏—Ç—å.
